<html><body bgcolor="#042029" text="#cccccc"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>The lotteries you know are probably quite boring.
You just buy a lottery ticket with some numbers and then you hope that the organizers announce the same set of numbers.
As you will discover below, the lottery in Bearland is way more fun!</p>
<br></br>
<p>In the Bearland lottery, you win if you have a ticket that matches the goal string.
The goal string is a string of length N chosen by the organizers.
Each character of the string will be 'A', 'B', or 'C'.
Additionally, it is guaranteed that the goal string will contain "ABC" as a subsequence.
For example, "AABAC" and "BBABC" are two possible goal strings of length 5, but "CBAAA" is not a goal string.</p>
<br></br>
<p>However, the lottery tickets do not contain any strings at all.
Instead, each Bearland lottery ticket contains some sequence of N (not necessarily distinct) integers.</p>
<br></br>
<p>You win the lottery if you can transform your sequence into the goal string.
Transformation rules:
<ul>
<li>Each element of the sequence should be replaced by a single character: 'A', 'B', or 'C'.</li>
<li>All occurrences of the same number must be replaced by the same letter.</li>
</ul></p>
<br></br>
<p>For example, the sequence {5, 8, 5, 2} can be transformed into "ABAC" or "BABB" but not into "ABBB".</p>
<br></br>
<p>Limak got a lottery ticket for his birthday.
You are given the vector &lt;int&gt; <b>t</b>: the sequence of the N numbers on the the ticket.
Count the number of different goal strings for which Limak can win the lottery.
Return that count modulo 10^9+7.</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>MappingABC2</td></tr><tr><td>Method:</td><td>countStrings</td></tr><tr><td>Parameters:</td><td>vector &lt;int&gt;</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int countStrings(vector &lt;int&gt; t)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>t</b> will have exactly N elements.</td></tr><tr><td align="center" valign="top">-</td><td>N will be between 3 and 50, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element in <b>t</b> will be between 1 and 50, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{9,9,2,9,4}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2">Limak can transform this lottery ticket into 27 different strings.
Some of them are: AAAAA, AAAAB, AAAAC, AABAA, AACAA, AABAB, AABAC, AACAB, AACAC, BBABA, BBABB, ... 
Among them, only two strings are valid goal strings: AABAC and BBABC.
Thus, the answer is 2.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,2,3}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,2,2,1,2,1,2}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{7,50,1,50,1,50,1,10,7}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 20</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 166952139</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>